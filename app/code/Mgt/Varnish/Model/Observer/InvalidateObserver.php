<?php
 namespace Mgt\Varnish\Model\Observer; use Magento\Framework\Event\ObserverInterface; class InvalidateObserver implements ObserverInterface { protected $config; protected $purgeCache; public function __construct(\Magento\PageCache\Model\Config $config, \Magento\CacheInvalidate\Model\PurgeCache $purgeCache) { $this->config = $config; $this->purgeCache = $purgeCache; } public function execute(\Magento\Framework\Event\Observer $observer) { goto Ab5be; Ba4a4: C2a67: goto de223; b8139: $tags = $object->getIdentities(); goto C4d7e; b7f28: A4b1a: goto Ba4a4; e16f2: if (!$object instanceof \Magento\Framework\DataObject\IdentityInterface) { goto A4b1a; } goto b8139; Bbfd1: $object = $observer->getEvent()->getObject(); goto e16f2; a7819: B12d7: goto b7f28; Ab5be: $cacheType = $this->config->getType(); goto cd44a; dab62: $this->purgeCache->sendPurgeRequest($tags); goto a7819; A752a: if (!($cacheType == \Magento\PageCache\Model\Config::VARNISH && true === $isFpcEnabled)) { goto C2a67; } goto Bbfd1; C4d7e: if (!count($tags)) { goto B12d7; } goto dab62; cd44a: $isFpcEnabled = $this->config->isEnabled(); goto A752a; de223: } }
